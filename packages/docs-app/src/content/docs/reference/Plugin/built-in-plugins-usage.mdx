---
title: å†…ç½®æ’ä»¶ä½¿ç”¨æŒ‡å—
sidebar:
  order: 4
---

# å†…ç½®æ’ä»¶ä½¿ç”¨æŒ‡å—

Chameleon Engine æä¾›äº†ä¸€å¥—å®Œæ•´çš„å†…ç½®æ’ä»¶ï¼Œè¦†ç›–äº†ä½ä»£ç ç¼–è¾‘å™¨çš„æ ¸å¿ƒåŠŸèƒ½ã€‚æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»æ¯ä¸ªæ’ä»¶çš„åŠŸèƒ½ã€é…ç½®å’Œä½¿ç”¨æ–¹æ³•ã€‚

## DesignerPlugin - è®¾è®¡å™¨ç”»å¸ƒ

è®¾è®¡å™¨ç”»å¸ƒæ˜¯ç¼–è¾‘å™¨çš„æ ¸å¿ƒæ’ä»¶ï¼Œè´Ÿè´£æ¸²æŸ“å’Œç¼–è¾‘é¡µé¢å†…å®¹ã€‚

### åŠŸèƒ½ç‰¹æ€§

- ğŸ“ å¯è§†åŒ–ç”»å¸ƒæ¸²æŸ“
- ğŸ–±ï¸ æ‹–æ‹½æ·»åŠ ç»„ä»¶
- âœï¸ ç»„ä»¶é€‰ä¸­å’Œç¼–è¾‘
- ğŸ“± å“åº”å¼é¢„è§ˆ
- ğŸ¨ å®æ—¶æ›´æ–°

### é…ç½®é€‰é¡¹

```tsx
import { Engine, plugins } from '@chamn/engine';
import { DesignerPluginInstance } from '@chamn/engine';

const beforePluginRun = ({ pluginManager }) => {
  pluginManager.customPlugin<DesignerPluginInstance>('Designer', (pluginInstance) => {
    // è‡ªå®šä¹‰æ¸²æŸ“å™¨
    pluginInstance.ctx.config.customRender = async ({ iframe, assets, page, pageModel, ready, renderJSUrl }) => {
      // è‡ªå®šä¹‰æ¸²æŸ“é€»è¾‘
    };

    // åˆå§‹åŒ–å‰é’©å­
    pluginInstance.ctx.config.beforeInitRender = async ({ iframe }) => {
      // åˆå§‹åŒ– iframe ç¯å¢ƒ
    };

    // è‡ªå®šä¹‰ç»„ä»¶
    pluginInstance.ctx.config.components = {
      Button: MyButton,
      Input: MyInput,
    };

    return pluginInstance;
  });
};
```

### å¯¼å‡ºæ–¹æ³•

```tsx
const onReady = async (ctx: EnginContext) => {
  const designerPlugin = await ctx.pluginManager.get('Designer');
  const designer = designerPlugin?.export;

  // è®¾ç½®é¢„è§ˆæ¨¡å¼
  designer?.setPreviewMode();

  // è®¾ç½®ç¼–è¾‘æ¨¡å¼
  designer?.setEditMode();

  // è®¾ç½®ç”»å¸ƒå®½åº¦
  designer?.setCanvasWidth(1200);
  designer?.setCanvasWidth('100%');

  // è·å– iframe DOM
  const iframeDom = designer?.getIframeDom();

  // è·å–è®¾è®¡å™¨çª—å£
  const designerWindow = designer?.getDesignerWindow();

  // é‡æ–°åŠ è½½
  designer?.reload();
};
```

### ä½¿ç”¨ç¤ºä¾‹

```tsx
import { Engine, plugins, EnginContext } from '@chamn/engine';
import '@chamn/engine/dist/style.css';
import { Button } from 'antd';

const { DEFAULT_PLUGIN_LIST } = plugins;

function App() {
  const onReady = async (ctx: EnginContext) => {
    const workbench = ctx.engine.getWorkbench();
    const designerPlugin = await ctx.pluginManager.get('Designer');

    // è‡ªå®šä¹‰å·¥å…·æ 
    workbench?.replaceTopBarView(
      <div style={{ padding: '0 20px', display: 'flex', gap: '10px' }}>
        <Button onClick={() => designerPlugin?.export.setPreviewMode()}>é¢„è§ˆ</Button>
        <Button onClick={() => designerPlugin?.export.setEditMode()}>ç¼–è¾‘</Button>
        <Button onClick={() => designerPlugin?.export.setCanvasWidth(375)}>ç§»åŠ¨ç«¯</Button>
        <Button onClick={() => designerPlugin?.export.setCanvasWidth('100%')}>å…¨å±</Button>
      </div>
    );
  };

  return <Engine plugins={DEFAULT_PLUGIN_LIST} schema={pageSchema} material={materials} onReady={onReady} />;
}
```

## HistoryPlugin - å†å²è®°å½•

å†å²è®°å½•æ’ä»¶æä¾›æ’¤é”€/é‡åšåŠŸèƒ½ã€‚

### åŠŸèƒ½ç‰¹æ€§

- â®ï¸ æ’¤é”€æ“ä½œ
- â­ï¸ é‡åšæ“ä½œ
- ğŸ”„ é‡ç½®åˆ°åˆå§‹çŠ¶æ€
- ğŸ“ è‡ªåŠ¨è®°å½•èŠ‚ç‚¹å˜åŒ–

### å¯¼å‡ºæ–¹æ³•

```tsx
const onReady = async (ctx: EnginContext) => {
  const historyPlugin = await ctx.pluginManager.get('History');
  const history = historyPlugin?.export;

  // æ’¤é”€ï¼ˆä¸Šä¸€æ­¥ï¼‰
  history?.preStep();

  // é‡åšï¼ˆä¸‹ä¸€æ­¥ï¼‰
  history?.nextStep();

  // é‡ç½®åˆ°åˆå§‹çŠ¶æ€
  history?.reset();

  // åˆ¤æ–­æ˜¯å¦å¯ä»¥æ’¤é”€
  const canUndo = history?.canGoPreStep();

  // åˆ¤æ–­æ˜¯å¦å¯ä»¥é‡åš
  const canRedo = history?.canGoNextStep();

  // æ‰‹åŠ¨æ·»åŠ å†å²è®°å½•
  history?.addStep();
};
```

### ä½¿ç”¨ç¤ºä¾‹

```tsx
import { Engine, plugins, EnginContext } from '@chamn/engine';
import '@chamn/engine/dist/style.css';
import { Button } from 'antd';
import { RollbackOutlined } from '@ant-design/icons';

const { DEFAULT_PLUGIN_LIST } = plugins;

function App() {
  const onReady = async (ctx: EnginContext) => {
    const workbench = ctx.engine.getWorkbench();
    const historyPlugin = await ctx.pluginManager.get('History');
    const history = historyPlugin?.export;

    workbench?.replaceTopBarView(
      <div style={{ padding: '0 20px', display: 'flex', gap: '10px' }}>
        <Button icon={<RollbackOutlined />} disabled={!history?.canGoPreStep()} onClick={() => history?.preStep()}>
          æ’¤é”€
        </Button>
        <Button
          icon={<RollbackOutlined style={{ transform: 'rotateY(180deg)' }} />}
          disabled={!history?.canGoNextStep()}
          onClick={() => history?.nextStep()}
        >
          é‡åš
        </Button>
        <Button onClick={() => history?.reset()}>é‡ç½®</Button>
      </div>
    );
  };

  return <Engine plugins={DEFAULT_PLUGIN_LIST} schema={pageSchema} material={materials} onReady={onReady} />;
}
```

## HotkeysPlugin - å¿«æ·é”®

å¿«æ·é”®æ’ä»¶ä¸ºç¼–è¾‘å™¨æä¾›é”®ç›˜å¿«æ·æ“ä½œã€‚

### å†…ç½®å¿«æ·é”®

| å¿«æ·é”®             | åŠŸèƒ½               | è¯´æ˜                       |
| :----------------- | :----------------- | :------------------------- |
| `Ctrl + C`         | å¤åˆ¶èŠ‚ç‚¹           | å¤åˆ¶å½“å‰é€‰ä¸­çš„èŠ‚ç‚¹         |
| `Ctrl + V`         | ç²˜è´´èŠ‚ç‚¹           | ç²˜è´´å·²å¤åˆ¶çš„èŠ‚ç‚¹           |
| `Ctrl + Z`         | æ’¤é”€               | æ’¤é”€ä¸Šä¸€æ­¥æ“ä½œ             |
| `Ctrl + Shift + Z` | é‡åš               | é‡åšä¸‹ä¸€æ­¥æ“ä½œ             |
| `Delete`           | åˆ é™¤èŠ‚ç‚¹           | åˆ é™¤å½“å‰é€‰ä¸­çš„èŠ‚ç‚¹         |
| `â†‘` / `W`          | å‘ä¸Šç§»åŠ¨           | å°†èŠ‚ç‚¹å‘ä¸Šç§»åŠ¨             |
| `â†“` / `S`          | å‘ä¸‹ç§»åŠ¨           | å°†èŠ‚ç‚¹å‘ä¸‹ç§»åŠ¨             |
| `â†` / `A`          | å‘å·¦ç§»åŠ¨           | å°†èŠ‚ç‚¹å‘å·¦ç§»åŠ¨             |
| `â†’` / `D`          | å‘å³ç§»åŠ¨           | å°†èŠ‚ç‚¹å‘å³ç§»åŠ¨             |
| `Shift + W`        | å‘ä¸Šç§»åŠ¨åˆ°å…„å¼ŸèŠ‚ç‚¹ | å°†èŠ‚ç‚¹ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªå…„å¼Ÿä½ç½® |
| `Shift + S`        | å‘ä¸‹ç§»åŠ¨åˆ°å…„å¼ŸèŠ‚ç‚¹ | å°†èŠ‚ç‚¹ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…„å¼Ÿä½ç½® |

### åŠŸèƒ½ç‰¹æ€§

- âŒ¨ï¸ é”®ç›˜å¿«æ·æ“ä½œ
- ğŸ¯ æ”¯æŒç»„åˆé”®
- ğŸ”§ å¯æ‰©å±•è‡ªå®šä¹‰å¿«æ·é”®
- ğŸ–¥ï¸ æ”¯æŒä¸»çª—å£å’Œ iframe

### ä½¿ç”¨è¯´æ˜

å¿«æ·é”®æ’ä»¶æ— éœ€é¢å¤–é…ç½®ï¼ŒåŠ å…¥æ’ä»¶åˆ—è¡¨å³å¯ä½¿ç”¨ï¼š

```tsx
import { Engine, plugins } from '@chamn/engine';

const { DEFAULT_PLUGIN_LIST } = plugins;

function App() {
  return <Engine plugins={DEFAULT_PLUGIN_LIST} schema={pageSchema} material={materials} />;
}
```

## ComponentLibPlugin - ç»„ä»¶åº“

ç»„ä»¶åº“æ’ä»¶æ˜¾ç¤ºå¯ç”¨çš„ç»„ä»¶åˆ—è¡¨ï¼Œæ”¯æŒæ‹–æ‹½æ·»åŠ åˆ°ç”»å¸ƒã€‚

### åŠŸèƒ½ç‰¹æ€§

- ğŸ“¦ ç»„ä»¶åˆ†ç±»å±•ç¤º
- ğŸ” ç»„ä»¶æœç´¢
- ğŸ–±ï¸ æ‹–æ‹½æ·»åŠ ç»„ä»¶
- ğŸ¨ è‡ªå®šä¹‰ç»„ä»¶å›¾æ ‡

### é…ç½®é€‰é¡¹

```tsx
import { Engine, plugins } from '@chamn/engine';
import { PluginInstance } from '@chamn/engine';
import { ComponentLibPluginConfig } from '@chamn/engine';

const beforePluginRun = ({ pluginManager }) => {
  pluginManager.customPlugin<PluginInstance<ComponentLibPluginConfig>>('ComponentLib', (pluginInstance) => {
    // è‡ªå®šä¹‰æœç´¢æ 
    pluginInstance.ctx.config.customSearchBar = ({ defaultInputView, updateState }) => {
      return (
        <div>
          {defaultInputView}
          {/* æ·»åŠ è‡ªå®šä¹‰å…ƒç´  */}
        </div>
      );
    };

    return pluginInstance;
  });
};
```

### ä½¿ç”¨ç¤ºä¾‹

```tsx
import { Engine, plugins } from '@chamn/engine';
import '@chamn/engine/dist/style.css';

const { DEFAULT_PLUGIN_LIST } = plugins;

// å®šä¹‰ç»„ä»¶ç‰©æ–™
const materials = [
  {
    componentName: 'Button',
    title: 'æŒ‰é’®',
    icon: <ButtonIcon />,
    category: 'åŸºç¡€ç»„ä»¶',
    snippets: [
      {
        title: 'ä¸»è¦æŒ‰é’®',
        snapshot: 'https://example.com/button-primary.png',
        schema: {
          componentName: 'Button',
          props: {
            type: 'primary',
            children: 'ä¸»è¦æŒ‰é’®',
          },
        },
      },
      {
        title: 'æ¬¡è¦æŒ‰é’®',
        snapshot: 'https://example.com/button-default.png',
        schema: {
          componentName: 'Button',
          props: {
            type: 'default',
            children: 'æ¬¡è¦æŒ‰é’®',
          },
        },
      },
    ],
  },
];

function App() {
  return <Engine plugins={DEFAULT_PLUGIN_LIST} schema={pageSchema} material={materials} />;
}
```

## OutlineTreePlugin - é¡µé¢ç»“æ„æ ‘

é¡µé¢ç»“æ„æ ‘æ’ä»¶ä»¥æ ‘å½¢ç»“æ„å±•ç¤ºé¡µé¢çš„ç»„ä»¶å±‚çº§ã€‚

### åŠŸèƒ½ç‰¹æ€§

- ğŸŒ³ æ ‘å½¢ç»“æ„å±•ç¤º
- ğŸ‘ï¸ æ˜¾ç¤º/éšè—èŠ‚ç‚¹
- ğŸ”’ é”å®š/è§£é”èŠ‚ç‚¹
- âœï¸ é‡å‘½åèŠ‚ç‚¹
- ğŸ—‘ï¸ åˆ é™¤èŠ‚ç‚¹
- ğŸ“‹ å¤åˆ¶èŠ‚ç‚¹

### ä½¿ç”¨ç¤ºä¾‹

```tsx
import { Engine, plugins, EnginContext } from '@chamn/engine';
import '@chamn/engine/dist/style.css';

const { DEFAULT_PLUGIN_LIST } = plugins;

function App() {
  const onReady = (ctx: EnginContext) => {
    // ç›‘å¬èŠ‚ç‚¹é€‰ä¸­
    ctx.engine.emitter.on('onSelectNodeChange', ({ node }) => {
      if (node) {
        console.log('é€‰ä¸­èŠ‚ç‚¹:', node.title, node.id);
      }
    });
  };

  return <Engine plugins={DEFAULT_PLUGIN_LIST} schema={pageSchema} material={materials} onReady={onReady} />;
}
```

## RightPanelPlugin - å³ä¾§é¢æ¿

å³ä¾§é¢æ¿æ’ä»¶æä¾›å±æ€§ç¼–è¾‘ã€æ ·å¼ç¼–è¾‘ç­‰åŠŸèƒ½é¢æ¿çš„å®¹å™¨ã€‚

### åŠŸèƒ½ç‰¹æ€§

- ğŸ“ å±æ€§ç¼–è¾‘é¢æ¿
- ğŸ¨ æ ·å¼ç¼–è¾‘é¢æ¿
- ğŸ”§ é«˜çº§è®¾ç½®é¢æ¿
- ğŸ“Š ç»„ä»¶çŠ¶æ€é¢æ¿

### å­é¢æ¿

å³ä¾§é¢æ¿åŒ…å«å¤šä¸ªå­é¢æ¿ï¼š

- **PropertyPanel**: å±æ€§é¢æ¿
- **VisualPanelPlus**: æ ·å¼é¢æ¿
- **AdvancePanel**: é«˜çº§é¢æ¿
- **ComponentStatePanel**: ç»„ä»¶çŠ¶æ€é¢æ¿
- **EventPanel**: äº‹ä»¶é¢æ¿

### é…ç½®é€‰é¡¹

```tsx
import { Engine, plugins } from '@chamn/engine';
import { PluginInstance } from '@chamn/engine';

const beforePluginRun = ({ pluginManager }) => {
  pluginManager.customPlugin('RightPanel', (pluginInstance) => {
    // è‡ªå®šä¹‰å±æ€§è®¾ç½®å™¨
    pluginInstance.ctx.config.customPropertySetterMap = {
      MyCustomSetter: (props) => {
        return <div>è‡ªå®šä¹‰è®¾ç½®å™¨</div>;
      },
    };

    return pluginInstance;
  });
};
```

### ä½¿ç”¨ç¤ºä¾‹

```tsx
import { Engine, plugins, EnginContext } from '@chamn/engine';
import '@chamn/engine/dist/style.css';

const { DEFAULT_PLUGIN_LIST } = plugins;

function App() {
  const onReady = (ctx: EnginContext) => {
    const workbench = ctx.engine.getWorkbench();

    // å¯ä»¥æ§åˆ¶å³ä¾§é¢æ¿çš„æ˜¾ç¤º/éšè—
    workbench?.toggleRightPanel();
  };

  return <Engine plugins={DEFAULT_PLUGIN_LIST} schema={pageSchema} material={materials} onReady={onReady} />;
}
```

## GlobalStatePanelPlugin - å…¨å±€çŠ¶æ€ç®¡ç†

å…¨å±€çŠ¶æ€ç®¡ç†æ’ä»¶ç”¨äºç®¡ç†é¡µé¢çš„å…¨å±€æ•°æ®å’Œå˜é‡ã€‚

### åŠŸèƒ½ç‰¹æ€§

- ğŸ“Š ç®¡ç†å…¨å±€å˜é‡
- ğŸ”„ æ•°æ®ç»‘å®š
- ğŸ“ JSON ç¼–è¾‘å™¨
- ğŸ’¾ æ•°æ®æŒä¹…åŒ–

### ä½¿ç”¨ç¤ºä¾‹

```tsx
import { Engine, plugins, EnginContext } from '@chamn/engine';
import '@chamn/engine/dist/style.css';

const { DEFAULT_PLUGIN_LIST } = plugins;

function App() {
  const onReady = (ctx: EnginContext) => {
    // è®¿é—®é¡µé¢æ¨¡å‹çš„å…¨å±€çŠ¶æ€
    const globalState = ctx.engine.pageModel.state;

    console.log('å…¨å±€çŠ¶æ€:', globalState);

    // ç›‘å¬çŠ¶æ€å˜åŒ–
    ctx.engine.pageModel.emitter.on('onStateChange', () => {
      console.log('çŠ¶æ€å·²æ›´æ–°');
    });
  };

  return <Engine plugins={DEFAULT_PLUGIN_LIST} schema={pageSchema} material={materials} onReady={onReady} />;
}
```

## DisplaySourceSchema - æºç å±•ç¤º

æºç å±•ç¤ºæ’ä»¶ç”¨äºæŸ¥çœ‹å’Œå¤åˆ¶é¡µé¢çš„ JSON Schemaã€‚

### åŠŸèƒ½ç‰¹æ€§

- ğŸ‘€ æŸ¥çœ‹é¡µé¢ Schema
- ğŸ“‹ å¤åˆ¶ Schema
- ğŸ¨ è¯­æ³•é«˜äº®
- ğŸ’¾ å¯¼å‡º JSON

### ä½¿ç”¨ç¤ºä¾‹

```tsx
import { Engine, plugins, EnginContext } from '@chamn/engine';
import '@chamn/engine/dist/style.css';
import { Button, Modal } from 'antd';
import { DisplaySourceSchema } from '@chamn/engine';

const { DEFAULT_PLUGIN_LIST } = plugins;

function App() {
  const onReady = (ctx: EnginContext) => {
    const workbench = ctx.engine.getWorkbench();

    workbench?.replaceTopBarView(
      <div style={{ padding: '0 20px' }}>
        <DisplaySourceSchema pageModel={ctx.engine.pageModel} engineCtx={ctx}>
          <Button>æŸ¥çœ‹æºç </Button>
        </DisplaySourceSchema>
      </div>
    );
  };

  return <Engine plugins={DEFAULT_PLUGIN_LIST} schema={pageSchema} material={materials} onReady={onReady} />;
}
```

## è‡ªå®šä¹‰æ’ä»¶åˆ—è¡¨

ä½ å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©æ€§åœ°ä½¿ç”¨æ’ä»¶ï¼š

```tsx
import { Engine, plugins } from '@chamn/engine';
import '@chamn/engine/dist/style.css';

const { DesignerPlugin, ComponentLibPlugin, OutlineTreePlugin, RightPanelPlugin, HistoryPlugin, HotkeysPlugin } =
  plugins;

function App() {
  // åªä½¿ç”¨å¿…è¦çš„æ’ä»¶
  const customPluginList = [
    DesignerPlugin, // å¿…éœ€ï¼šè®¾è®¡å™¨ç”»å¸ƒ
    ComponentLibPlugin, // ç»„ä»¶åº“
    RightPanelPlugin, // å³ä¾§é¢æ¿
    HistoryPlugin, // å†å²è®°å½•
  ];

  return <Engine plugins={customPluginList} schema={pageSchema} material={materials} />;
}
```

## æ’ä»¶å¼€å‘

å¦‚æœå†…ç½®æ’ä»¶ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œå¯ä»¥å¼€å‘è‡ªå®šä¹‰æ’ä»¶ã€‚è¯¦è§ [æ’ä»¶å¼€å‘æ–‡æ¡£](./plugin-develop/)ã€‚

### æ’ä»¶ç»“æ„

```tsx
import { CPlugin } from '@chamn/engine';

const MyPlugin: CPlugin = (ctx) => {
  return {
    name: 'MyPlugin',
    async init(ctx) {
      // åˆå§‹åŒ–é€»è¾‘
      const workbench = ctx.getWorkbench();
      workbench?.addLeftPanel({
        name: 'MyPanel',
        title: 'æˆ‘çš„é¢æ¿',
        icon: <Icon />,
        view: <MyPanelView />,
      });

      ctx.pluginReadyOk();
    },
    async destroy(ctx) {
      // æ¸…ç†é€»è¾‘
    },
    export: (ctx) => {
      // å¯¼å‡º API
      return {
        doSomething() {
          // ...
        },
      };
    },
    meta: {
      engine: {
        version: '1.0.0',
      },
    },
  };
};
```

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•ç¦ç”¨æŸä¸ªæ’ä»¶ï¼Ÿ

A: ä» `DEFAULT_PLUGIN_LIST` ä¸­è¿‡æ»¤æ‰ä¸éœ€è¦çš„æ’ä»¶ï¼Œç„¶åå°†å®šåˆ¶åçš„æ’ä»¶åˆ—è¡¨ä¼ é€’ç»™å¼•æ“ã€‚

**ç¦ç”¨å•ä¸ªæ’ä»¶ï¼š**

```tsx
import { Engine, plugins } from '@chamn/engine';

const { DEFAULT_PLUGIN_LIST, HotkeysPlugin } = plugins;

function App() {
  // è¿‡æ»¤æ‰å¿«æ·é”®æ’ä»¶
  const customPlugins = DEFAULT_PLUGIN_LIST.filter((plugin) => plugin !== HotkeysPlugin);

  return <Engine plugins={customPlugins} schema={pageSchema} material={materials} />;
}
```

**ç¦ç”¨å¤šä¸ªæ’ä»¶ï¼š**

```tsx
import { Engine, plugins } from '@chamn/engine';

const { DEFAULT_PLUGIN_LIST, HotkeysPlugin, GlobalStatePanelPlugin } = plugins;

function App() {
  // è¦ç¦ç”¨çš„æ’ä»¶åˆ—è¡¨
  const pluginsToDisable = [HotkeysPlugin, GlobalStatePanelPlugin];

  // è¿‡æ»¤æ‰è¦ç¦ç”¨çš„æ’ä»¶
  const customPlugins = DEFAULT_PLUGIN_LIST.filter((plugin) => !pluginsToDisable.includes(plugin));

  return <Engine plugins={customPlugins} schema={pageSchema} material={materials} />;
}
```

### Q: æ’ä»¶åŠ è½½é¡ºåºé‡è¦å—ï¼Ÿ

A: æ˜¯çš„ã€‚å»ºè®®æŒ‰ä»¥ä¸‹é¡ºåºåŠ è½½ï¼š

1. DesignerPluginï¼ˆå¿…é¡»æœ€å…ˆï¼‰
2. å…¶ä»–åŠŸèƒ½æ’ä»¶
3. UI é¢æ¿æ’ä»¶

### Q: å¦‚ä½•è·å–æ’ä»¶å®ä¾‹ï¼Ÿ

A: ä½¿ç”¨ `pluginManager.get()` æ–¹æ³•ï¼š

```tsx
const onReady = async (ctx: EnginContext) => {
  const designerPlugin = await ctx.pluginManager.get('Designer');
  const historyPlugin = await ctx.pluginManager.get('History');
};
```

### Q: æ’ä»¶é…ç½®ä½•æ—¶ç”Ÿæ•ˆï¼Ÿ

A: æ’ä»¶é…ç½®å¿…é¡»åœ¨ `beforePluginRun` ä¸­è®¾ç½®ï¼š

```tsx
const beforePluginRun = ({ pluginManager }) => {
  pluginManager.customPlugin('Designer', (pluginInstance) => {
    // é…ç½®æ’ä»¶
    return pluginInstance;
  });
};

<Engine beforePluginRun={beforePluginRun} />;
```
